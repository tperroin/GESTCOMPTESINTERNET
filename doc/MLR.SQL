CREATE TABLE IF NOT EXISTS MOTIF
 (
   ID INTEGER(2) NOT NULL  ,
   LIBELLE VARCHAR(255) NOT NULL  ,
   RECETTEDEPENSE BOOL NOT NULL  
   , PRIMARY KEY (ID) 
 ) ;

CREATE TABLE IF NOT EXISTS ETAT
 (
   ID BIGINT(1) NOT NULL  ,
   LIBELLE VARCHAR(255) NOT NULL  
   , PRIMARY KEY (ID) 
 ) ;
 
CREATE TABLE IF NOT EXISTS ENREGISTREMENT
 (
   ID BIGINT(40) NOT NULL  ,
   ID_LIBELLE BIGINT(4) NOT NULL  ,
   ID_MODEREGLEMENT SMALLINT(2) NOT NULL  ,
   ID_COMPTE SMALLINT(1) NOT NULL  ,
   ID_MOTIF INTEGER(2) NOT NULL  ,
   ID_ETAT BIGINT(1) NOT NULL  ,
   PRELEVEMENTENCAISSEMENT CHAR(255) NOT NULL  ,
   RECETTEDEPENSE CHAR(255) NOT NULL  ,
   DATEENREGISTREMENT DATE NOT NULL  ,
   MONTANT VARCHAR(255) NOT NULL  ,
   ANCIENSOLDE DECIMAL(30,2) NOT NULL  ,
   NOUVEAUSOLDE DECIMAL(30,2) NOT NULL  
   , PRIMARY KEY (ID_COMPTE,ID) 
 ) ;
 

CREATE  INDEX I_FK_ENREGISTREMENT_LIBELLE
     ON ENREGISTREMENT (ID_LIBELLE ASC);

CREATE  INDEX I_FK_ENREGISTREMENT_MODEREGLEMENT
     ON ENREGISTREMENT (ID_MODEREGLEMENT ASC);

CREATE  INDEX I_FK_ENREGISTREMENT_COMPTE
     ON ENREGISTREMENT (ID_COMPTE ASC);

CREATE  INDEX I_FK_ENREGISTREMENT_MOTIF
     ON ENREGISTREMENT (ID_MOTIF ASC);

CREATE  INDEX I_FK_ENREGISTREMENT_ETAT
     ON ENREGISTREMENT (ID_ETAT ASC);

CREATE TABLE IF NOT EXISTS LIBELLE
 (
   ID BIGINT(4) NOT NULL  ,
   VALEUR VARCHAR(255) NOT NULL  
   , PRIMARY KEY (ID) 
 ) ;

CREATE TABLE IF NOT EXISTS MODEREGLEMENT
 (
   ID SMALLINT(2) NOT NULL  ,
   LIBELLE VARCHAR(255) NOT NULL  ,
   NUMCHQ VARCHAR(255) NULL  ,
   DATEFACTURE VARCHAR(255) NULL  
   , PRIMARY KEY (ID) 
 ) ;
 

CREATE TABLE IF NOT EXISTS COMPTE
 (
   ID SMALLINT(1) NOT NULL  ,
   LIBELLE VARCHAR(128) NOT NULL  ,
   SOLDEDEPART DECIMAL(30,2) NOT NULL  
   , PRIMARY KEY (ID) 
 ) ;
 




ALTER TABLE ENREGISTREMENT 
  ADD FOREIGN KEY FK_ENREGISTREMENT_LIBELLE (ID_LIBELLE)
      REFERENCES LIBELLE (ID) ;


ALTER TABLE ENREGISTREMENT 
  ADD FOREIGN KEY FK_ENREGISTREMENT_MODEREGLEMENT (ID_MODEREGLEMENT)
      REFERENCES MODEREGLEMENT (ID) ;


ALTER TABLE ENREGISTREMENT 
  ADD FOREIGN KEY FK_ENREGISTREMENT_COMPTE (ID_COMPTE)
      REFERENCES COMPTE (ID) ;


ALTER TABLE ENREGISTREMENT 
  ADD FOREIGN KEY FK_ENREGISTREMENT_MOTIF (ID_MOTIF)
      REFERENCES MOTIF (ID) ;


ALTER TABLE ENREGISTREMENT 
  ADD FOREIGN KEY FK_ENREGISTREMENT_ETAT (ID_ETAT)
      REFERENCES ETAT (ID) ;

